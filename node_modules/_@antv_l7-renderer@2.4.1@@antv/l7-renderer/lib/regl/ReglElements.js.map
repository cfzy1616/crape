{"version":3,"sources":["../../src/regl/ReglElements.ts"],"names":["ReglElements","reGl","options","elements","data","usage","type","count","usageMap","gl","STATIC_DRAW","dataTypeMap","UNSIGNED_BYTE","subdata"],"mappings":";;;;;;;;;;;;;AAAA;;AAEA;;IAKqBA,Y;AAGnB,wBAAYC,IAAZ,EAA6BC,OAA7B,EAAsE;AAAA;AAAA,SAF9DC,QAE8D;AACpE,QAAQC,IAAR,GAAqCF,OAArC,CAAQE,IAAR;AAAA,QAAcC,KAAd,GAAqCH,OAArC,CAAcG,KAAd;AAAA,QAAqBC,IAArB,GAAqCJ,OAArC,CAAqBI,IAArB;AAAA,QAA2BC,KAA3B,GAAqCL,OAArC,CAA2BK,KAA3B;AAEA,SAAKJ,QAAL,GAAgBF,IAAI,CAACE,QAAL,CAAc;AAC5BC,MAAAA,IAAI,EAAJA,IAD4B;AAE5BC,MAAAA,KAAK,EAAEG,oBAASH,KAAK,IAAII,WAAGC,WAArB,CAFqB;AAG5BJ,MAAAA,IAAI,EAAEK,uBAAYL,IAAI,IAAIG,WAAGG,aAAvB,CAHsB;AAO5BL,MAAAA,KAAK,EAALA;AAP4B,KAAd,CAAhB;AASD;;;;WAED,eAAa;AACX,aAAO,KAAKJ,QAAZ;AACD;;;WAED,uBAIG;AAAA,UAHDC,IAGC,QAHDA,IAGC;AACD,WAAKD,QAAL,CAAcU,OAAd,CAAsBT,IAAtB;AACD;;;WAED,mBAAiB,CAEhB","sourcesContent":["import { gl, IElements, IElementsInitializationOptions } from '@antv/l7-core';\nimport regl from 'regl';\nimport { dataTypeMap, usageMap } from './constants';\n\n/**\n * @see https://github.com/regl-project/regl/blob/gh-pages/API.md#elements\n */\nexport default class ReglElements implements IElements {\n  private elements: regl.Elements;\n\n  constructor(reGl: regl.Regl, options: IElementsInitializationOptions) {\n    const { data, usage, type, count } = options;\n\n    this.elements = reGl.elements({\n      data,\n      usage: usageMap[usage || gl.STATIC_DRAW],\n      type: dataTypeMap[type || gl.UNSIGNED_BYTE] as\n        | 'uint8'\n        | 'uint16'\n        | 'uint32',\n      count,\n    });\n  }\n\n  public get() {\n    return this.elements;\n  }\n\n  public subData({\n    data,\n  }: {\n    data: number[] | number[][] | Uint8Array | Uint16Array | Uint32Array;\n  }) {\n    this.elements.subdata(data);\n  }\n\n  public destroy() {\n    // this.elements.destroy();\n  }\n}\n"],"file":"ReglElements.js"}